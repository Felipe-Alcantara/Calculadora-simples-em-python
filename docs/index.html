<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Pro - Brython</title>
    
    <!-- Brython CDN -->
    <script src="https://cdn.jsdelivr.net/npm/brython@3.12.3/brython.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/brython@3.12.3/brython_stdlib.js"></script>
    
    <!-- CSS -->
    <link rel="stylesheet" href="style.css?v=2.7">
</head>
<body onload="brython()">
    <!-- Background animado com elementos matem√°ticos -->
    <div class="math-background" id="math-bg"></div>
    
    <div class="main-container">
        <!-- Calculadora -->
        <div class="calculator-container">
            <div class="calculator">
                <h1 class="title">Calculadora Cient√≠fica Pro</h1>
                
                <!-- Display -->
                <div id="display" class="display">0</div>
                
                <!-- Bot√µes Cient√≠ficos -->
                <div class="sci-buttons">
                    <button class="btn btn-sci" id="btn-sqrt">‚àö</button>
                    <button class="btn btn-sci" id="btn-square">x¬≤</button>
                    <button class="btn btn-sci" id="btn-power">x ∏</button>
                    <button class="btn btn-sci" id="btn-percent">%</button>
                    <button class="btn btn-sci" id="btn-inverse">1/x</button>
                </div>
                
                <div class="sci-buttons">
                    <button class="btn btn-sci" id="btn-sin">sin</button>
                    <button class="btn btn-sci" id="btn-cos">cos</button>
                    <button class="btn btn-sci" id="btn-tan">tan</button>
                    <button class="btn btn-sci" id="btn-log">log</button>
                    <button class="btn btn-sci" id="btn-ln">ln</button>
                </div>
                
                <div class="sci-buttons">
                    <button class="btn btn-sci" id="btn-pi">œÄ</button>
                    <button class="btn btn-sci" id="btn-e">e</button>
                    <button class="btn btn-sci" id="btn-lparen">(</button>
                    <button class="btn btn-sci" id="btn-rparen">)</button>
                    <button class="btn btn-sci" id="btn-backspace">‚Üê</button>
                </div>
                
                <!-- Bot√µes Num√©ricos -->
                <div class="buttons">
                    <!-- Linha 1 -->
                    <button class="btn btn-num" id="btn-7">7</button>
                    <button class="btn btn-num" id="btn-8">8</button>
                    <button class="btn btn-num" id="btn-9">9</button>
                    <button class="btn btn-op" id="btn-div">√∑</button>
                    
                    <!-- Linha 2 -->
                    <button class="btn btn-num" id="btn-4">4</button>
                    <button class="btn btn-num" id="btn-5">5</button>
                    <button class="btn btn-num" id="btn-6">6</button>
                    <button class="btn btn-op" id="btn-mult">√ó</button>
                    
                    <!-- Linha 3 -->
                    <button class="btn btn-num" id="btn-1">1</button>
                    <button class="btn btn-num" id="btn-2">2</button>
                    <button class="btn btn-num" id="btn-3">3</button>
                    <button class="btn btn-op" id="btn-minus">-</button>
                    
                    <!-- Linha 4 -->
                    <button class="btn btn-special" id="btn-clear">C</button>
                    <button class="btn btn-num" id="btn-0">0</button>
                    <button class="btn btn-num" id="btn-dot">.</button>
                    <button class="btn btn-op" id="btn-plus">+</button>
                    
                    <!-- Linha 5 - Bot√£o Igual -->
                    <button class="btn btn-equal" id="btn-equal">=</button>
                </div>
                
                <!-- Bot√£o Regra de 3 -->
                <a href="regra-de-3.html" class="btn-link">
                    <button class="btn btn-rule">üìê Regra de 3</button>
                </a>
                
                <!-- Bot√£o de Tema -->
                <button class="btn btn-theme" id="btn-theme">‚òÄÔ∏è Modo Claro</button>
                
                <p class="footer">By: dj_felixo</p>
            </div>
        </div>

        <!-- Hist√≥rico -->
        <div class="history-container">
            <div class="history">
                <h2 class="history-title">üìú Hist√≥rico de C√°lculos</h2>
                <div id="history-list" class="history-list">
                    <p class="history-empty">Nenhum c√°lculo ainda...</p>
                </div>
                <div class="history-buttons">
                    <button class="btn btn-clear-history" id="btn-clear-history">üóëÔ∏è Limpar</button>
                    <button class="btn btn-export-history" id="btn-export-history">üíæ Exportar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Script Python em Brython -->
    <script type="text/python" src="calculator.py"></script>
    
    <!-- Script para anima√ß√£o de fundo -->
    <script>
        // Elementos matem√°ticos para exibir
        const mathSymbols = [
            '‚àë', '‚à´', '‚àû', 'œÄ', '‚àö', '‚àÇ', 'Œî', '‚àá', 
            'Œ±', 'Œ≤', 'Œ≥', 'Œ∏', 'Œª', 'Œº', 'œÉ', 'œÜ',
            '√∑', '√ó', '¬±', '‚â†', '‚âà', '‚â§', '‚â•', '‚àà',
            '‚àÄ', '‚àÉ', '‚àÖ', '‚à©', '‚à™', '‚äÇ', '‚äÉ', '‚äÜ',
            '0', '1', '2', '3', '4', '5', '6', '7', '8', '9',
            'sin', 'cos', 'tan', 'log', 'ln', 'exp',
            'x¬≤', 'x¬≥', 'x‚Åø', '‚àöx', '‚àõx',
            'f(x)', 'dy/dx', 'd¬≤y/dx¬≤',
            'lim', 'Œ£', '‚àè', '‚à´‚à´', '‚à´‚à´‚à´'
        ];

        function createMathElement() {
            const mathBg = document.getElementById('math-bg');
            const element = document.createElement('div');
            element.className = 'math-symbol';
            
            // S√≠mbolo aleat√≥rio
            element.textContent = mathSymbols[Math.floor(Math.random() * mathSymbols.length)];
            
            // Posi√ß√£o inicial aleat√≥ria por toda a tela
            const startX = Math.random() * 100;
            const startY = Math.random() * 100;
            element.style.left = startX + '%';
            element.style.top = startY + '%';
            
            // Tamanho aleat√≥rio controlado
            const size = Math.random() * 18 + 26; // 26px a 44px
            element.style.fontSize = size + 'px';
            
            // Opacidade aumentada
            const baseOpacity = Math.random() * 0.08 + 0.1; // 0.1 a 0.18
            element.style.opacity = baseOpacity;
            
            // Dire√ß√£o de movimento aleat√≥ria (maior amplitude)
            const moveX = (Math.random() - 0.5) * 150; // -75 a 75
            const moveY = (Math.random() - 0.5) * 150; // -75 a 75
            element.style.setProperty('--move-x', moveX + 'px');
            element.style.setProperty('--move-y', moveY + 'px');
            
            // Rota√ß√£o aleat√≥ria
            const rotation = (Math.random() - 0.5) * 360; // -180 a 180
            element.style.setProperty('--rotation', rotation + 'deg');
            
            // Dura√ß√£o mais r√°pida
            const durations = [6, 7, 8, 9, 10];
            const duration = durations[Math.floor(Math.random() * durations.length)];
            element.style.animationDuration = duration + 's';
            
            // Sem delay, come√ßa imediatamente
            element.style.animationDelay = '0s';
            
            mathBg.appendChild(element);
            
            // Remove o elemento ap√≥s a anima√ß√£o completar
            setTimeout(() => {
                if (element.parentNode) {
                    element.remove();
                }
            }, duration * 1000 + 100);
        }

        // Cria elementos continuamente
        function initMathBackground() {
            // Cria 100 elementos iniciais de forma r√°pida
            for (let i = 0; i < 100; i++) {
                setTimeout(() => createMathElement(), i * 80);
            }
            
            // Continua criando novos elementos muito rapidamente
            setInterval(() => {
                createMathElement();
                createMathElement(); // Cria 2 de uma vez
            }, 250);
        }

        // Inicia quando a p√°gina carregar
        window.addEventListener('load', initMathBackground);
    </script>
</body>
</html>
